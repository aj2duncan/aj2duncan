---
title: Shiny for Python
author: ''
date: '2023-07-18'
slug: shiny-for-python
categories:
  - Shiny
tags:
  - Python
description: ''
highlight: true
---



<p>I have been building <a href="https://shiny.posit.co/">Shiny</a> apps in <code>R</code> for what seems like a long time. Recently, I’ve been dabbling with <a href="https://shiny.posit.co/py/">Shiny for Python</a> and for one particular reason. With <a href="https://shiny.posit.co/py/docs/shinylive.html">Shinylive</a> these apps can be hosted without the need for a dedicated server - they just run in the web browser. For me this opens up two interesting possibilities. Firstly, it should mean I can embed an app in this blog (more on this below) and secondly, I can create apps for others and they won’t need to use a Shiny server (or similar) setup to run them.</p>
<p>To experiment with embedding an app in a blog post I created a small <a href="https://shiny.posit.co/py/">Shiny for Python</a> app using the <a href="https://plotnine.readthedocs.io/en/v0.12.3/">plotnine</a> plotting package. I use <a href="https://ggplot2.tidyverse.org/">ggplot2</a> for the vast majority of plotting in R and so I wanted to experiment with a similar result in python.</p>
<p>This app just has a quick filter in the number of diamonds to plot and renders them as quick barplot.</p>
<pre class="python"><code>from shiny import App, render, ui
from plotnine import ggplot, geom_bar, aes
from plotnine.data import diamonds

app_ui = ui.page_fluid(
    ui.h2(&quot;Quick Diamonds Example&quot;),
    ui.input_slider(&quot;n&quot;, &quot;Number of diamonds&quot;, 10000, 20000, 1000),
    ui.output_plot(&quot;diamonds_plot&quot;)
)


def server(input, output, session):
    @output
    @render.plot
    def diamonds_plot():
        p = (ggplot(diamonds.sample(n = input.n()),
                   aes(x = &quot;cut&quot;, fill = &quot;cut&quot;)) 
            + geom_bar())
        return p


app = App(app_ui, server)</code></pre>
<p>Having written and tested the app (in my case inventively caused <em>diamonds</em>), we can build it (presuming everything required has been installed) via</p>
<pre class="python"><code>shinylive export diamonds site</code></pre>
<p>This creates a folder called <em>site</em> containing all the bits and pieces we need. Finally, we can embed this in our blog via</p>
<pre class="r"><code>knitr::include_app(&quot;site/index.html&quot;, height = &quot;600px&quot;)</code></pre>
<iframe src="site/index.html?showcase=0" width="100%" height="600px" data-external="1">
</iframe>
<div id="final-thoughts" class="section level2">
<h2>Final Thoughts</h2>
<p>I think this is going to be a really useful tool for me. I’m pretty sure most of my apps will be written in <code>R</code> but this should allow publishing small (relatively simple) apps much easier.</p>
</div>
